<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Content-editable popover plugin (vanilla JS)</title>
    <style>
      /* Basic page styling */
      body {
        font-family: system-ui, -apple-system, "Segoe UI", Roboto,
          "Helvetica Neue", Arial;
        padding: 40px;
        line-height: 1.4;
      }

      code {
        font-family: "Courier New", Courier, monospace;
        background-color: #f4f4f4;
        padding: 2px 4px;
        border-radius: 4px;
      }
    </style>
    <link rel="stylesheet" href="./css/content-editable.min.css" />
  </head>
  <body>
    <h1>Content Editable Plugin â€” Demo</h1>

    <div>
      <span class="editable" data-multiline="false">Click me</span>
    </div>

    <div style="margin-top: 12px">
      <p class="editable" data-multiline="true">
        This is a paragraph. Click to edit multiline content.
      </p>
    </div>

    <div style="margin-top: 12px">
      <h3 class="editable" data-multiline="false">Section title</h3>
    </div>
    <hr />

    <h2>Default Options</h2>

    <table border="1" cellpadding="6" cellspacing="0">
      <thead>
        <tr>
          <th>Option</th>
          <th>Type</th>
          <th>Default</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>sanitize</code></td>
          <td><code>boolean</code></td>
          <td><code>false</code></td>
          <td>Whether to strip HTML tags from the input value.</td>
        </tr>
        <tr>
          <td><code>placeholder</code></td>
          <td><code>string</code></td>
          <td><code>"Type something"</code></td>
          <td>Placeholder text shown in the popover input.</td>
        </tr>
        <tr>
          <td><code>onOpen</code></td>
          <td><code>function</code></td>
          <td><code>null</code></td>
          <td>
            Callback when the popover opens. Receives the element being edited.
          </td>
        </tr>
        <tr>
          <td><code>onClose</code></td>
          <td><code>function</code></td>
          <td><code>null</code></td>
          <td>
            Callback when the popover closes. Receives the element being edited.
          </td>
        </tr>
        <tr>
          <td><code>onSave</code></td>
          <td><code>function</code></td>
          <td><code>null</code></td>
          <td>
            Callback when content is saved. Receives the element and the new
            value.
          </td>
        </tr>
        <tr>
          <td><code>onCancel</code></td>
          <td><code>function</code></td>
          <td><code>null</code></td>
          <td>Callback when editing is cancelled. Receives the element.</td>
        </tr>
        <tr>
          <td><code>showFlashOnSave</code></td>
          <td><code>boolean</code></td>
          <td><code>true</code></td>
          <td>Whether to highlight the element briefly after saving.</td>
        </tr>
        <tr>
          <td><code>flashElementColor</code></td>
          <td><code>string</code></td>
          <td><code>"#fde68a"</code></td>
          <td>Color used for the save highlight.</td>
        </tr>
        <tr>
          <td><code>closeOnBlur</code></td>
          <td><code>boolean</code></td>
          <td><code>true</code></td>
          <td>Close the popover when clicking outside of it.</td>
        </tr>
      </tbody>
    </table>

    <script>
      window.CE_DEFAULT_OPTIONS = {
        placeholder: "Type here...",
      };
    </script>
    <script src="./js/content-editable.js"></script>
    <script>
      contentEditable(".editable", {
        sanitize: true,
        placeholder: "Edit content here...",
        closeOnBlur: false,
        onOpen: function (element) {
          console.log("Popover opened for:", element);
        },
        onClose: function (element) {
          console.log("Popover closed for:", element);
        },
        onSave: function (element, value) {
          console.log("Content saved for:", element, "Value:", value);
        },
        onCancel: function (element) {
          console.log("Edit cancelled for:", element);
        },
      });
    </script>
  </body>
</html>
